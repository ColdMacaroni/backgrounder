<!doctype html>
<html lang="en">
    <head>
        <title>Backgrounder</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link href="style.css" rel="stylesheet" />
        <script defer src="util.js"></script>
        <script defer src="setup.js"></script>
        <script defer src="backgrounds.js"></script>
    </head>
    <body onload="bodyLoad()">
        <section id="input">
            <label for="image">Choose your image: </label>
            <input
                type="file"
                id="image-input"
                name="image"
                onchange="imageUploaded(event)"
                accept="image/png, image/jpeg"
            />
            <p><small>Tip: You can drag and drop into the preview</small></p>
        </section>

        <section id="editing">
            <div id="canvas-holder">
                <canvas id="main-canvas"></canvas>
                <button id="save-image" onclick="saveCanvas(event)">
                    Save Image
                </button>
            </div>
            <div id="controls">
                <label>
                    X Position:
                    <input
                        type="range"
                        name="xPositionSlider"
                        id="x-pos-slider"
                        list="position-notches"
                        min="-0.5"
                        max="1.5"
                        value="0.5"
                        step="0.01"
                    />
                    <input
                        type="number"
                        name="xPositionNumber"
                        id="x-pos-number"
                        min="-0.5"
                        max="1.5"
                        value="0.5"
                        step="0.01"
                    />
                </label>
                <br />
                <label>
                    Y Position:
                    <input
                        type="range"
                        name="yPositionSlider"
                        id="y-pos-slider"
                        list="position-notches"
                        min="-0.5"
                        max="1.5"
                        value="0.5"
                        step="0.01"
                    />
                    <input
                        type="number"
                        name="yPositionNumber"
                        id="y-pos-number"
                        min="-0.5"
                        max="1.5"
                        value="0.5"
                        step="0.01"
                    />
                </label>
                <datalist id="position-notches">
                    <option value="0.5"></option>
                </datalist>
                <div id="extra-controls"></div>
            </div>
        </section>

        <section id="background-preview">
            <!-- Populated by javascript -->
        </section>

        <section style="width: 65%; margin: 0 auto">
            <h2>Feature creep</h2>
            <ul>
                <li>
                    <input type="checkbox" /><em>transformation settings?</em>
                    <ul>
                        <li>
                            <input type="checkbox" />Image positioning - use two
                            sliders for x, y.
                        </li>
                        <li><input type="checkbox" />Image padding.</li>
                        <li>
                            <input type="checkbox" />Magic wand transparency
                            (with threshold). This can be made by using a
                            temporary canvas, setting the pixels to transparent
                            or not depending on the magic wand, then using
                            source-in to create a canvas with the iamge. See
                            here:
                            <a
                                href="https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation"
                                target="_blank"
                                >MDN</a
                            >. This canvas can then by converted to an image or
                            something to be used normally.
                        </li>
                    </ul>
                </li>
                <li>
                    <input type="checkbox" checked />Display backgrounds as grid
                </li>
                <li>
                    <input type="checkbox" checked />Allow clicking backgrounds
                    to select them
                </li>
            </ul>
        </section>
    </body>
</html>
